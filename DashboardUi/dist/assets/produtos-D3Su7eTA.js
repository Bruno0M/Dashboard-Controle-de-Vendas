import"./modulepreload-polyfill-B5Qt9EMX.js";import"./user-services-Ftt_v8-3.js";import{e as m,d as g}from"./environments-Di4CP6dW.js";import{i as p}from"./auth.middleware-CS9r7T3C.js";document.addEventListener("DOMContentLoaded",function(){p()||(window.location.href="/pages/auth/");const t=`${m.ApiUrl}/Product`;var e=localStorage.getItem("token");document.getElementById("btnSalvar").addEventListener("click",function(a){a.preventDefault();var o=document.getElementById("m-categoria").value,c=document.getElementById("m-produto").value,i=document.getElementById("m-valor").value,l=document.getElementById("m-quantidade").value,s={name:c,categoria:o,price:i,quantidade:l},u={method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+e}};fetch(`${t}`,u).then(n=>{if(!n.ok)throw new Error(n.statusText());return n}).then(n=>console.log(n)).catch(n=>console.log(n))});var r={method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+e}};fetch(`${t}`,r).then(a=>{if(!a.ok)throw new Error(a.statusText());return a.json()}).then(a=>v(a))});function h(t){return`
    <tr>
    <td>${t.categoria}</td>
    <td>${t.name}</td>
    <td>R$ ${t.price}</td>
    <td>${t.quantidade}</td>
    </tr>`}function v(t){const e=t.data.map(r=>h(r));document.getElementById("product-rows").innerHTML=e.join("")}const f=`${g.ApiUrl}/Product`;var y=localStorage.getItem("token");const b={cat1:"rgb(5, 67, 109)",cat2:"rgb(5, 91, 149)",cat3:"rgb(42, 112, 160)",cat4:"rgb(39, 150, 225)",cat5:"rgb(9, 184, 242)",cat6:"rgb(130, 196, 241)",cat7:"rgb(194, 227, 249)"},E=document.getElementById("graph01");new Chart(E,{type:"line",data:{labels:["Mes1","Mes2","Mes3","Mes4"],datasets:[{label:"Dataset",data:[1500,1e3,1800,300],borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",fill:!0}]},options:{plugins:{filler:{propagate:!1},title:{display:!0}},interaction:{intersect:!1}}});const q=document.getElementById("graph02");var S={method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+y}};document.addEventListener("DOMContentLoaded",function(){fetch(`${f}`,S).then(t=>{if(!t.ok)throw new Error(t.statusText());return t.json()}).then(t=>{const e={};t.data.forEach(o=>{e[o.categoria]?e[o.categoria]+=o.quantidade:e[o.categoria]=o.quantidade});const r=Object.keys(e),a=Object.values(e);console.log(a),new Chart(q,{type:"doughnut",data:{labels:r,datasets:[{label:"# of Votes",data:a,borderWidth:1,backgroundColor:Object.values(b)}],options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Doughnut Chart"}}}}})})});const d=document.querySelector(".modal-container");document.querySelector("tbody");document.querySelector("#m-categoria");document.querySelector("#m-produto");document.querySelector("#m-valor");document.querySelector("#m-quantidade");const k=document.querySelector("#btnSalvar");function C(){d.classList.add("active")}document.querySelector("#new").addEventListener("click",function(t){t.preventDefault(),C(),k.onclick=e=>{e.preventDefault(),d.classList.remove("active")},d.onclick=e=>{e.target.className.indexOf("modal-container")!==-1&&d.classList.remove("active")}});
