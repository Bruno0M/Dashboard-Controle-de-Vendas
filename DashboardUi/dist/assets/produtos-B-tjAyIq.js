import"./modulepreload-polyfill-B5Qt9EMX.js";import"./user-services-BckuFha9.js";import{e as d}from"./environments-D9GokKY9.js";import{i as g}from"./auth.middleware-CS9r7T3C.js";document.addEventListener("DOMContentLoaded",function(){g()||(window.location.href="/pages/auth/");const t=`${d.ApiUrl}/Product`;var e=localStorage.getItem("token");document.getElementById("btnSalvar").addEventListener("click",function(a){a.preventDefault();var o=document.getElementById("m-categoria").value,i=document.getElementById("m-produto").value,l=document.getElementById("m-valor").value,u=document.getElementById("m-quantidade").value,s={name:i,categoria:o,price:l,quantidade:u},m={method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+e}};fetch(`${t}`,m).then(n=>{if(!n.ok)throw new Error(n.statusText());return n}).then(n=>console.log(n)).catch(n=>console.log(n))});var r={method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+e}};fetch(`${t}`,r).then(a=>{if(!a.ok)throw new Error(a.statusText());return a.json()}).then(a=>h(a))});function p(t){return`
    <tr>
    <td>${t.categoria}</td>
    <td>${t.name}</td>
    <td>R$ ${t.price}</td>
    <td>${t.quantidade}</td>
    </tr>`}function h(t){const e=t.data.map(r=>p(r));document.getElementById("product-rows").innerHTML=e.join("")}const v=`${d.ApiUrl}/Product`;var f=localStorage.getItem("token");const y={cat1:"rgb(5, 67, 109)",cat2:"rgb(5, 91, 149)",cat3:"rgb(42, 112, 160)",cat4:"rgb(39, 150, 225)",cat5:"rgb(9, 184, 242)",cat6:"rgb(130, 196, 241)",cat7:"rgb(194, 227, 249)"},b=document.getElementById("graph01");new Chart(b,{type:"line",data:{labels:["Mes1","Mes2","Mes3","Mes4"],datasets:[{label:"Dataset",data:[1500,1e3,1800,300],borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",fill:!0}]},options:{plugins:{filler:{propagate:!1},title:{display:!0}},interaction:{intersect:!1}}});const E=document.getElementById("graph02");var q={method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+f}};document.addEventListener("DOMContentLoaded",function(){fetch(`${v}`,q).then(t=>{if(!t.ok)throw new Error(t.statusText());return t.json()}).then(t=>{const e={};t.data.forEach(o=>{e[o.categoria]?e[o.categoria]+=o.quantidade:e[o.categoria]=o.quantidade});const r=Object.keys(e),a=Object.values(e);console.log(a),new Chart(E,{type:"doughnut",data:{labels:r,datasets:[{label:"# of Votes",data:a,borderWidth:1,backgroundColor:Object.values(y)}],options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Doughnut Chart"}}}}})})});const c=document.querySelector(".modal-container");document.querySelector("tbody");document.querySelector("#m-categoria");document.querySelector("#m-produto");document.querySelector("#m-valor");document.querySelector("#m-quantidade");const S=document.querySelector("#btnSalvar");function k(){c.classList.add("active")}document.querySelector("#new").addEventListener("click",function(t){t.preventDefault(),k(),S.onclick=e=>{e.preventDefault(),c.classList.remove("active")},c.onclick=e=>{e.target.className.indexOf("modal-container")!==-1&&c.classList.remove("active")}});
